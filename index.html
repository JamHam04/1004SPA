<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Fitness Tracker</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    
    <header>
        <h1>Fitness Tracker
        <small class="text-muted">+ Health Journal</small>
        </h1>
        <hr>
    </header>
    <div class="container text-center">
        <!--Daily Navigation buttons-->

            <h1>
                <button onclick="prevButton()" class="pr-2">
                    <i class="bi bi-arrow-left float-left"></i>
                </button>
                <p id="date"></p>
                
                <button onclick="nextButton()">
                    <i class="bi bi-arrow-right float-right"></i>
                </button>
            </h1>
            <div class="row">
            <div id="dailyHealthContainer" class="col"></div>
            <div id="dailyHealthContainer2" class="col"></div>
            </div>
    </div>

    </div>
    <button class="hide btn btn-outline-dark btn-lg m-1" id="dailyHealthBtn" data-bs-toggle="collapse" data-bs-target="#dailyCalories-input, #dailyWeight-input, #dailyCalories-label, #dailyWeight-label">Daily Health Log</button>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

    <!--Form Input Field-->
    <button class="open-input-form btn btn-dark btn-lg m-1" id="open-input-form">Add Exercise</button>
    
    <form class="input-form bg-light container hide" id="input-form"> 
        <div class="input-form-exit">
            <button class="close-input-form btn btn-light" id="close-input-form">
                Close
            </button>
        </div>

        <!--Outputted table format-->
        <div class="input-form-class">
            <label>Exercise</label>
            <input type="text" class="form-control" id="exercise-input" value="" />

            <label>Set 1 Reps</label>
            <input type="int" class="form-control" id="reps-input" value="" />

            <label>Set 2 Reps</label>
            <input type="int" class="form-control" id="reps2-input" value="" />

            <label>Set 1 Notes</label>
            <input type="text" class="form-control" id="notes-input" value="" />

            <label>Set 2 Notes</label>
            <input type="text" class="form-control" id="notes2-input" value="" />

            <hr>

            <label class="collapse" id="dailyCalories-label">Weight</label>
            <input type="text" class="form-control collapse" id="dailyWeight-input" value="" />

            <label class="collapse" id="dailyWeight-label">Calories</label>
            <input type="text" class="form-control collapse" id="dailyCalories-input" value="" />
            
            <!--Confirm Form button-->
            <button class="add-exercise btn btn-success m-1" id="add-exercise">Submit</button>
        </div> 
    </form>
    <hr>
    <!--Where the input will be displayed-->
    <div id="table-container" class="container bg-light "></div>
    


    <script>
        var todayDate = new Date();  //get full date
        var date = todayDate.getDate() +' / '+ (todayDate.getMonth()+1) +" / "+ todayDate.getFullYear(); //Formats date to only include date (not time)
        
        //Storage variable
        var currentSetDate = date;

        //Set date functions
        document.getElementById('date').innerHTML = date; //Current date
        let i = 0;

        function nextButton() { //Call this function everytime the right button is clicked
            const j = i + 1; //Uses j as a local variable as to not conflict with prevButton
            todayDate.setDate(todayDate.getDate()+j)
            currentSetDate = todayDate.getDate() +' / '+ (todayDate.getMonth()+1) +" / "+ todayDate.getFullYear();
            document.getElementById('date').innerHTML = currentSetDate;
            SaveData();
            loadData (); 
        }
        function prevButton() { //Call this function everytime the left button is clicked
            const j = i + 1; //Uses j as a local variale as to not conflict with nextButton
            todayDate.setDate(todayDate.getDate()-j)//Sets todayDate back 1//Converts to used date format
            currentSetDate = todayDate.getDate() +' / '+ (todayDate.getMonth()+1) +" / "+ todayDate.getFullYear();
            document.getElementById('date').innerHTML = currentSetDate;//Outputs changed date
            SaveData();
            loadData ();
        }

    </script>

    <script src="input-output.js"></script>
  </body>
</html>